package account.model.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import common.util.DataBaseUtil;
import common.vo.Customer;

public class AccountDAO {
private static AccountDAO inst = new AccountDAO();
private DataBaseUtil dbUtil = DataBaseUtil.getInstance();

private AccountDAO(){}
public static AccountDAO getInstance(){
	return inst;
}

public void insertCustomer(Customer customer){
	Connection conn = null;
	PreparedStatement pstmt = null;
	String sql="insert into customer values(?,?,?,?,?,?,?,?,?,?)";

	try{
		conn=dbUtil.getConnection();
		pstmt=conn.prepareStatement(sql);
		pstmt.setString(1, customer.getId());
		pstmt.setString(2, customer.getPassword());
		pstmt.setString(3, customer.getName());
		pstmt.setObject(4,null);
		pstmt.setInt(5, customer.getCreditRating());
		pstmt.setString(6, customer.getJob());
		pstmt.setInt(7, customer.getAge());
		pstmt.setBoolean(8, customer.isSex());
		pstmt.setString(9, customer.getPhoneNumber());
		pstmt.setString(10, customer.getAddress());
		
		pstmt.executeUpdate();
		
	}catch(SQLException e ){
		e.printStackTrace();
	}finally{
		try {
			dbUtil.close(pstmt, conn);
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			System.out.println("뭔가 안닫힘");
			e.printStackTrace();
		}
	}
}

}
